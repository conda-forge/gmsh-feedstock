diff --git a/Common/gmsh.cpp b/Common/gmsh.cpp
index 591a063a5435fd561c8cc4b6cac15a81039ea982..33ec3890c30959e1818fdbe0d73d691944f60ac4 100644
--- a/Common/gmsh.cpp
+++ b/Common/gmsh.cpp
@@ -5,6 +5,13 @@
 
 #include <sstream>
 #include "GmshConfig.h"
+#if defined(HAVE_FLTK)
+#define NOMINMAX
+// Opencascade define NOMSG and a bunch of other macros to avoid some
+// definitions from windows.h, but FLTK needs MSG macro.
+// Including windows.h at the beginning makes defining NOMSG irrelevant.
+#include "windows.h"
+#endif
 #include "GmshDefines.h"
 #include "GmshGlobal.h"
 #include "MallocUtils.h"
